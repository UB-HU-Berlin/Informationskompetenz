<div class="pagewrapper">
	<h2>Zusammenfassung</h2>
    <p>Je nach Thema benötigen Sie unterschiedliche Medienarten:
    	<ul>
        	<li> Lexika / Nachschlagewerke </li>
            <li> Monographien </li>
            <li> Fachzeitschriften oder Konferenzberichte </li>
            <li> Zeitungsartikel </li>
            <li> Webseiten </li>
       	</ul>
    </p>
</div>

<div class="pagewrapper">
	<p><strong>Sortieren Sie die Medien nach ihrer Eignung für das vorgegebene Thema.</strong></p>
	
    <p><strong>Thema:</strong>Welche Auswirkungen hat die amerikanische Revolution auf die heutige amerikanische Politik?</p>
    <script src="//code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
  	<style>
		#list_1 li, #list_2 li {
			transition:background-color .5s;
			border: thin rgba(0,0,0,.4) solid;
			display:block;
			width:20em;
			transition:background-color .5s, text-decoration .5s;
			color:black;
			padding:.3em .7em;
			cursor:pointer;
			background-color:white;
			box-shadow: 1px 1px 1px rgba(0,0,0,.4);	
			color:black;		
		}
		
		#list_1 li.correct, #list_2 li.correct {
			box-shadow: inset 1px 1px 1px rgba(0,0,0,.4);	
			background-color:rgba(0,150,0,.5);
			color:white;
		}

		.control-btn {
			-moz-box-shadow:inset 0px 1px 0px 0px #ffffff;
			-webkit-box-shadow:inset 0px 1px 0px 0px #ffffff;
			box-shadow:inset 0px 1px 0px 0px #ffffff;
			background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #ededed), color-stop(1, #dfdfdf) );
			background:-moz-linear-gradient( center top, #ededed 5%, #dfdfdf 100% );
			filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ededed', endColorstr='#dfdfdf');
			background-color:#ededed;
			-webkit-border-top-left-radius:0px;
			-moz-border-radius-topleft:0px;
			border-top-left-radius:0px;
			-webkit-border-top-right-radius:0px;
			-moz-border-radius-topright:0px;
			border-top-right-radius:0px;
			-webkit-border-bottom-right-radius:0px;
			-moz-border-radius-bottomright:0px;
			border-bottom-right-radius:0px;
			-webkit-border-bottom-left-radius:0px;
			-moz-border-radius-bottomleft:0px;
			border-bottom-left-radius:0px;
			text-indent:0;
			border:1px solid #dcdcdc;
			display:inline-block;
			color:#777777;
			font-family:arial;
			font-weight:bold;
			font-style:normal;
			height:3em;
			line-height:2em;
			width:25.7em;
			text-decoration:none;
			text-align:center;
			text-shadow:1px 1px 0px #ffffff;
			margin-top:1em;
			cursor:pointer;
		}
		.control-btn:hover {
			background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #dfdfdf), color-stop(1, #ededed) );
			background:-moz-linear-gradient( center top, #dfdfdf 5%, #ededed 100% );
			filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#dfdfdf', endColorstr='#ededed');
			background-color:#dfdfdf;
		}.control-btn:active {
			position:relative;
			top:1px;
		}		
	</style>
	<script>
    	function sortMediaGame () {}
		sortMediaGame.init = function () {
			$("#list_1, #list_2").sortable({
				start: function (event, ui) {
					$("li").removeClass("correct");				
				}, 
				stop: function (event, ui) {
					sortMediaGame.updateListNumbers( ui.item );
				}
			})
			.disableSelection()
			.append("<input class='control-btn' type='button' value='Überprüfen'/>"); 
		
			$(".control-btn").css({
				"position":"relative"
			})
				.click(this.check_answers);
				
		}
		sortMediaGame.check_answers = function ( event ) {
			var list = document.getElementById(event.currentTarget.parentNode.id).getElementsByTagName("li");
			var indexStorage;
			for(var i = 0; i < list.length; i++) {
				indexStorage = function ( index_field ) {
					if(index_field == 0) return 1;
					if(index_field >= 1 && index_field <= 2) return 2;
					if(index_field == 3) return 3;
					return false; 
				}( $( list[i] ).index() );
				
				if(list[i].value == indexStorage){
					$(list[i]).addClass("correct");
				}
			}
		}
		sortMediaGame.updateListNumbers = function ( ui_item ) {
			var list = ui_item[0].parentNode;
			list = list.getElementsByTagName("li");
			
			$(list).find("span").remove();
			// Span müssen noch entfernt werden wenn überflüssig
			for (var i = 0; i < list.length; i++ ){
				if(i == 0) {
					$(list[i]).prepend("<span>[ sehr gut geeignet ] </span>");
				} else if( i == 1 || i == 2 ) {
					$(list[i]).prepend("<span>[ gut geeignet ] </span>");
				} else {
					$(list[i]).prepend("<span>[ nicht gut geeignet ] </span>");
				}
			}
		}
    </script>
    <ul id="list_1">
    	<li value="1"><span>[ sehr gut geeignet ]</span> Bücher</li>
        <li value="2"><span>[ gut geeignet ]</span> Zeitschriften</li>
        <li value="2"><span>[ gut geeignet ]</span> Zeitung</li>
        <li value="3"><span>[ nicht gut geeignet ]</span> Webseiten</li>
	</ul>
    
    <p><strong>Thema: </strong>Genmanipulierte Pflanzen in der Landwirtschaft - großes Geschäft mit unkontrollierbaren Folgen?</p>
    
    <ul id="list_2">
    	<li value="3"><span>[ Sehr gut geeignet ]</span> Bücher</li>
        <li value="1"><span>[ gut geeignet ]</span> Zeitschriften</li>
        <li value="2"><span>[ gut geeignet ]</span> Zeitung</li>
        <li value="2"><span>[ nicht gut geeignet ]</span> Webseiten</li>
	</ul>
    <script>
		sortMediaGame.init();
	</script>
    
</div>